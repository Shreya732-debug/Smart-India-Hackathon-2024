!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tableau/widgets"),require("react"),require("SharedWidgetsDataGrid")):"function"==typeof define&&define.amd?define(["@tableau/widgets","react","SharedWidgetsDataGrid"],t):"object"==typeof exports?exports.NestedProjectExplorer=t(require("@tableau/widgets"),require("react"),require("SharedWidgetsDataGrid")):e.NestedProjectExplorer=t(e.SharedWidgets,e.React,e.SharedWidgetsDataGrid)}(self,(function(e,t,n){return function(){"use strict";var r={259:function(e,t,n){function r(){var e,t=e="undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name?n.g:self;if("string"==typeof CustomLocalizeNamespace&&(t=e[CustomLocalizeNamespace]),void 0===t.Localize)throw Error("The messages.<locale>.js file has not been loaded");return t.Localize}Object.defineProperty(t,"__esModule",{value:!0}),t.Formatters=t.Messages=t.CurrentMessageLocale=t.LocaleData=t.getCurrentMessageLocale=t.getLocalizeFormat=void 0,t.getLocalizeFormat=function(){var e=r();if(void 0===e.format)throw Error("The formatters-and-parsers.<locale>.js file has not been loaded");return e.format},t.getCurrentMessageLocale=function(){var e=r();if(void 0===e.message.currentLocale)throw Error("The localize.message.currentLocale has not been set");return e.message.currentLocale},t.LocaleData={get:function(){return(0,t.getLocalizeFormat)().localeData}},t.CurrentMessageLocale={get:function(){return(0,t.getCurrentMessageLocale)()}};var o=function(e,t){return r().msg.formatMessage(e,t)};t.Messages={validProject:function(e){return o("@tableau__nested-project-explorer/validProject",e)},insufficientPermissionToMoveTo:function(e){return o("@tableau__nested-project-explorer/insufficientPermissionToMoveTo",e)},invalidContentDestination:function(e){return o("@tableau__nested-project-explorer/invalidContentDestination",e)},moveToProject_siteRootDestination:function(e){return o("@tableau__nested-project-explorer/moveToProject_siteRootDestination",e)},permissonsRequiredProjectName:function(){return o("@tableau__nested-project-explorer/permissonsRequiredProjectName")},ProjectsHeader:function(){return o("@tableau__nested-project-explorer/ProjectsHeader")},PersonalSpaceName:function(){return o("@tableau__nested-project-explorer/PersonalSpaceName")},PrivateToMeTag:function(){return o("@tableau__nested-project-explorer/PrivateToMeTag")},searchProjects:function(){return o("@tableau__nested-project-explorer/searchProjects")}},t.Formatters={formatCount:function(e){return(0,t.getLocalizeFormat)().formatNumber(e,{maximumFractionDigits:0})}}},329:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DestinationItemType=void 0,(n=t.DestinationItemType||(t.DestinationItemType={})).project="project",n.personalSpace="personal_space",n.projectsRoot="projects_root"},582:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.FractalRowStore=void 0;var i=n(407),a=function(){function e(e,t){this.rowsByKey={},this.expandedItemKeys={},this.dataGridRows=[],t&&(this.expandedItemKeys=t),this.setItems(e)}return e.prototype.setItems=function(e){var t=this;this.topLevelTrees=e,this.topLevelTrees.forEach((function(e){e.forEach((function(e){var n=t.buildRowFromItem(e);t.rowsByKey[t.getKey(e)]=n}))})),this.updateRowsForExpansion(this.expandedItemKeys)},e.prototype.getVisibleItemCount=function(){return this.dataGridRows.length},e.prototype.getItems=function(e,t,n){n(this.dataGridRows)},e.prototype.getVisibleItem=function(e){var t;return null===(t=this.dataGridRows[e])||void 0===t?void 0:t.data},e.prototype.getDomainItem=function(e){var t;return null===(t=this.rowsByKey[e])||void 0===t?void 0:t.data},e.prototype.setExpandedItems=function(e){var t=this.expandedItemKeys;this.expandedItemKeys=e,this.updateRowsForExpansion(t)},e.prototype.toggleExpansionForItemKey=function(e){var t,n=this.expandedItemKeys;if(this.expandedItemKeys[e]){var i=this.expandedItemKeys,a=e,s=(i[a],o(i,["symbol"==typeof a?a:a+""]));this.expandedItemKeys=s}else this.expandedItemKeys=r(r({},this.expandedItemKeys),((t={})[e]=!0,t));return this.updateRowsForExpansion(n),this.expandedItemKeys},e.prototype.expandParentsOfItemKey=function(e){for(var t={},n=!1,o=0,i=this.getAncestors(e);o<i.length;o++)e=i[o],this.expandedItemKeys[e]||(n=!0,t[e]=!0);if(n){var a=r(r({},this.expandedItemKeys),t);return this.setExpandedItems(a),a}return this.expandedItemKeys},e.prototype.getAncestors=function(e){for(var t=[],n=e;n;){t.push(n);var r=this.getDomainItem(n);n=r?this.getParentKey(r):void 0}return t.slice(1)},e.prototype.getRowIndex=function(e){return this.rowIndexByKey[e]},e.prototype.isExpanded=function(e){return this.isKeyExpanded(this.getKey(e))},e.prototype.isKeyExpanded=function(e){return!!this.expandedItemKeys[e]},e.prototype.shouldBeVisible=function(e){var t=this.getParentKey(e);if(void 0===t)return!0;var n=this.getDomainItem(t);return this.isKeyExpanded(t)&&void 0!==n&&this.shouldBeVisible(n)},e.prototype.updateRowsForExpansion=function(e){var t=this,n=[],r={},o=0,a=this.topLevelTrees.map((function(e){return i.RoseTreeFilters.filterSubtreeRoots(e,(function(e){return t.shouldBeVisible(e)}))})),s=function(i){var a=t.getKey(i),s=t.rowsByKey[a];t.expandedItemKeys[a]!==e[a]&&(s=t.buildRowFromItem(i),t.rowsByKey[a]=s),n.push(s),r[a]=o++};a.forEach((function(e){return e.forEach(s,i.RoseTreeIterators.preOrderTraversal)})),this.dataGridRows=n,this.rowIndexByKey=r},e}();t.FractalRowStore=a},799:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0,(n=t.Icons||(t.Icons={})).ExpansionIndicator="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJTY2hlbWFWaWV3ZXJfeDVGX0V4cGFuZF94NUZfTm9ybWFsXzJfIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjExcHgiIGhlaWdodD0iMTFweCINCgkgdmlld0JveD0iMCAwIDExIDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMSAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IkNoZXZyb25fMV8iIHN0eWxlPSJmaWxsOiM2NjY2NjYiIGQ9Ik04LDQuMUw1LjUsNi43TDMsNC4xQzIuOCw0LDIuMyw0LDIuMSw0LjFDMiw0LjMsMiw0LjgsMi4xLDVsMy40LDMuMkw4LjksNQ0KCUM5LDQuOCw5LDQuMyw4LjksNC4xQzguNyw0LDguMiw0LDgsNC4xeiIvPg0KPC9zdmc+",n.ProjectContentTypeSmall="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJQcm9qZWN0X3g1Rl9Db250ZW50X3g1Rl9UeXBlX3g1Rl9TbWFsbCINCgkgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjE5cHgiDQoJIHZpZXdCb3g9IjAgMCAyNCAxOSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjQgMTk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJGb2xkZXIiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMjEuMyw4SDE3VjVjMC0wLjYtMC41LTEtMS0xSDguOUw4LjMsM0M3LjksMi40LDcuNiwyLDYuOSwySDJDMS40LDIsMSwyLjQsMSwzdjEzDQoJYzAsMC41LDAuNCwxLDEsMWgwaDEzLjljMC41LDAsMS4yLTAuMywxLjYtMWw0LjQtNi44QzIyLjMsOC42LDIxLjcsOCwyMS4zLDh6IE03LDNsMS4zLDJIMTZ2M0g3LjNDNi42LDgsNiw4LjMsNS41LDlMMiwxNC41VjNIN3oNCgkgTTE2LjQsMTZIMi4ybDQuNS03aDE0LjJMMTYuNCwxNnoiLz4NCjwvc3ZnPg==",n.SiteContentTypeSmall="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMTcgMTciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE3IDE3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBpZD0ic2l0ZV94NUZfY29udGVudF94NUZfdHlwZV94NUZfc21hbGxfMV8iPg0KCTxnPg0KCQk8Zz4NCgkJCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNOC41LDJDMTIuMSwyLDE1LDQuOSwxNSw4LjVTMTIuMSwxNSw4LjUsMTVDNC45LDE1LDIsMTIuMSwyLDguNVM0LjksMiw4LjUsMiBNOC41LDENCgkJCQlDNC40LDEsMSw0LjQsMSw4LjVTNC40LDE2LDguNSwxNlMxNiwxMi42LDE2LDguNVMxMi42LDEsOC41LDFMOC41LDF6Ii8+DQoJCTwvZz4NCgk8L2c+DQoJPGc+DQoJCTxnPg0KCQkJPHBhdGggc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik04LjUsMmMxLDAsMi41LDIuNSwyLjUsNi41UzkuNSwxNSw4LjUsMTVTNiwxMi41LDYsOC41UzcuNSwyLDguNSwyIE04LjUsMUM2LjYsMSw1LDQuNCw1LDguNQ0KCQkJCVM2LjYsMTYsOC41LDE2UzEyLDEyLjYsMTIsOC41UzEwLjQsMSw4LjUsMUw4LjUsMXoiLz4NCgkJPC9nPg0KCTwvZz4NCgk8cG9seWdvbiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgcG9pbnRzPSIxNS4zLDYgMS43LDYgMyw1IDE0LDUgCSIvPg0KCTxwb2x5Z29uIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBwb2ludHM9IjE0LDEyIDMsMTIgMS43LDExIDE1LjMsMTEgCSIvPg0KPC9nPg0KPC9zdmc+"},223:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NestedItemsFractalRowStore=void 0;var i=n(259),a=n(329),s=function(e){var t;function n(r,o){var i=this,a=((t={})[n.SentinelRootProjectId]=!0,t);return(i=e.call(this,r,a)||this).rowExpansionHandler=o,i}return o(n,e),n.prototype.buildRowFromItem=function(e){var t=this;return{key:this.getKey(e),parentKey:this.getParentKey(e),nestingLevel:e.nestingLevel,isExpanded:this.isExpanded(e),hasChildren:e.hasChildren,expansionHandler:function(n){return t.rowExpansionHandler(e.id,n)},data:e}},n.prototype.getParentKey=function(e){return e.id===n.SentinelRootProjectId?void 0:e.isOrphaned?n.SentinelPermissionsRequiredId:e.parentId||n.SentinelRootProjectId},n.prototype.getKey=function(e){return e.id},n}(n(582).FractalRowStore);t.NestedItemsFractalRowStore=s,function(e){e.SentinelRootProjectId="PROJECTS",e.topLevelItemContainerForProjects=function(t){return{id:e.SentinelRootProjectId,itemType:a.DestinationItemType.projectsRoot,name:i.Messages.ProjectsHeader(),nestingLevel:0,hasChildren:!0,status:t}},e.SentinelPermissionsRequiredId="PERMISSIONS_REQUIRED",e.permissionsRequiredProjectContainer=function(){return{id:e.SentinelPermissionsRequiredId,parentId:void 0,name:i.Messages.permissonsRequiredProjectName(),nestingLevel:1,hasChildren:!0,status:"structurally_invalid",itemType:a.DestinationItemType.project}},e.permissionsRequiredItemContainer=function(){return{id:e.SentinelPermissionsRequiredId,parentId:void 0,name:i.Messages.permissonsRequiredProjectName(),nestingLevel:1,hasChildren:!0,status:"structurally_invalid",itemType:a.DestinationItemType.project}}}(s=t.NestedItemsFractalRowStore||(t.NestedItemsFractalRowStore={})),t.NestedItemsFractalRowStore=s},644:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.convertItemListToTrees=void 0;var r=n(407),o=n(329),i=n(223);t.convertItemListToTrees=function(e){var t=e.filter((function(e){return e.topLevelItem})),n=function(e,t){var n={};return e.forEach((function(e){var t=""+e.parentId;Object.prototype.hasOwnProperty.call(n,t)?n[t].push(e):n[t]=[e]})),n}(e);function a(e,t){var o,i=n[e.id];return delete n[e.id],new r.RoseTree(function(e,t){return{id:e.id,parentId:e.parentId,name:e.name,nestingLevel:t,hasChildren:e.childItemCount>0,status:e.status,itemType:e.itemType}}(e,t),null!==(o=null==i?void 0:i.map((function(e){return a(e,t+1)})))&&void 0!==o?o:[])}var s=t?t.map((function(e){return a(e,e.itemType===o.DestinationItemType.personalSpace?0:1)})):[];delete n[void 0];var c=Object.keys(n).reduce((function(e,t){var r=n[t].map((function(e){return e.id}));return e.concat(r)}),[]),l=e.filter((function(e){return-1!==c.indexOf(e.id)&&void 0!==e.parentId&&-1===c.indexOf(String(e.parentId))})).map((function(e){return a(e,2)}));if(l.length>0){l.forEach((function(e){2===e.node.nestingLevel&&(e.node.isOrphaned=!0)}));var u=new r.RoseTree(i.NestedItemsFractalRowStore.permissionsRequiredItemContainer(),l);return s.concat(u)}return s}},564:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.NestedProjectExplorer=void 0;var s=n(407),c=n(272),l=n(98),u=n(259),d=n(329),p=n(223),f=n(361);function y(e,t,n,r){var o=function(e,t){var n=void 0,r=t.toLocaleLowerCase(),o=function(e,t){if(t.node.name.toLocaleLowerCase().includes(r))t.node.itemType===d.DestinationItemType.personalSpace?n=t:e.push(t);else if(Array.isArray(t.children)){var i=t.children.reduce(o,[]);i.length&&e.push(new s.RoseTree(t.node,i))}return e};return{filteredTree:e.reduce(o,[]),personalSpace:n}}(e,r),i=o.filteredTree,a=o.personalSpace,c=r.toLocaleLowerCase(),l=[];a&&l.push(a);var u=p.NestedItemsFractalRowStore.topLevelItemContainerForProjects(t);if(i.length||u.name.toLocaleLowerCase().includes(c)){var f=new s.RoseTree(u,i);l.push(f)}var y=new p.NestedItemsFractalRowStore(l,n);return r&&i.flatMap((function(e){return e.fold((function(e,t){return t.name.toLocaleLowerCase().includes(c)&&e.push(t.id),e}),[])})).forEach((function(e){return y.expandParentsOfItemKey(e)})),y}var h=(0,n(983).getDestinationProjectCellFormatter)(),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={filterText:"",selectedProjectId:t.props.initiallySelectedProjectId||null},t.rowExpansionHandler=function(e){t.rowStore.toggleExpansionForItemKey(e),t.forceUpdate()},t.rowStore=y(t.props.projects,t.props.topLevelDestinationStatus,t.rowExpansionHandler,t.state.filterText),t.announceTimeoutId=0,t.handleFilterChange=function(e){return t.setState({filterText:e.target.value})},t.handleItemClicked=function(e){if("valid"===e.status){var n=t.state.selectedProjectId;null!==n&&n===e.id?(t.setState({selectedProjectId:null}),t.props.onSelectedProjectChanged(null)):(t.setState({selectedProjectId:e.id}),t.props.onSelectedProjectChanged(e))}},t}return o(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.projects,o=n.topLevelDestinationStatus,i=this.state,a=i.filterText,s=i.selectedProjectId;r===e.projects&&o===e.topLevelDestinationStatus&&a===t.filterText||(this.rowStore=y(r,o,this.rowExpansionHandler,a),!a&&s&&this.rowStore.expandParentsOfItemKey(s),this.forceUpdate()),a!==t.filterText&&(a?this.announceOptionCount():window.clearTimeout(this.announceTimeoutId))},Object.defineProperty(t.prototype,"matchingProjectCount",{get:function(){return this.rowStore.getVisibleItemCount()},enumerable:!1,configurable:!0}),t.prototype.announceOptionCount=function(e){void 0===e&&(e=2e3),window.clearTimeout(this.announceTimeoutId);var t=this.matchingProjectCount,n=u.Formatters.formatCount(t);this.announceTimeoutId=window.setTimeout((function(){return c.LiveAnnouncer.announce(c.FilteringListMessages.optionCountAnnouncement({optionCount:t,formattedOptionCount:n}),"assertive")}),e)},t.prototype.render=function(){var e=this.props,t=(e.initiallySelectedProjectId,e.keepParentsOfSelectedItemExpanded),n=(e.onSelectedProjectChanged,e.selectRowOnExpansion),r=(e.projects,e.showSearchField),o=(e.topLevelDestinationStatus,a(e,["initiallySelectedProjectId","keepParentsOfSelectedItemExpanded","onSelectedProjectChanged","selectRowOnExpansion","projects","showSearchField","topLevelDestinationStatus"])),s=l.createElement(f.TreeViewComponent,{cellFormatter:h,keepParentsOfSelectedItemExpanded:t,onItemClicked:this.handleItemClicked,rowStore:this.rowStore,selectRowOnExpansion:n,selectedItemId:this.state.selectedProjectId});return r?l.createElement("div",i({style:{display:"flex",gap:4,flexDirection:"column",height:"100%",padding:4,boxSizing:"border-box"}},o),l.createElement(c.TextFieldWidget,{"aria-label":u.Messages.searchProjects(),kind:"search",label:"",onChange:this.handleFilterChange,style:{width:"100%"},testId:"",value:this.state.filterText}),!this.state.filterText||this.matchingProjectCount>0?s:l.createElement("span",{style:{lineHeight:"".concat(f.TreeViewComponent.RowHeight,"px"),textAlign:"center"}},c.FilteringListMessages.noMatches())):l.cloneElement(s,o)},t.defaultProps={keepParentsOfSelectedItemExpanded:!0,selectRowOnExpansion:!0},t}(l.PureComponent);t.NestedProjectExplorer=m},361:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewComponent=void 0;var s=n(272),c=n(340),l=n(98),u=n(879);function d(e){var t;return e?new c.RowKeyedGridSelection(((t={})[e]=!0,t)):new c.RowKeyedGridSelection}function p(e,t){return{name:f.ColumnName,dataKey:"",headerText:"",growToFit:!0,cellFormatter:l.createFactory((0,u.IndentedCellWithExpansionIndicatorComponent)(e,t))}}var f=function(e){function t(t){var n=e.call(this,t)||this;return n.gridRef=l.createRef(),n.hasBeenFocused=!1,n.handleInitialFocus=function(e){if(!n.hasBeenFocused){n.hasBeenFocused=!0;var t=n.props.selectedItemId;t&&"grid"===e.target.getAttribute("role")&&n.gridRef.current.focusCellByKey(t)}},n.handleKeyDown=function(e){var t,r=n.props.rowStore,o=parseInt(e.target.getAttribute("aria-rowindex"),10)-1,i=r.getVisibleItem(o);if(i){var a=r.getKey(i),s=r.getParentKey(i);switch(e.key){case"ArrowRight":if(!r.isKeyExpanded(a)){var c=r.getVisibleItemCount();r.toggleExpansionForItemKey(a),r.getVisibleItemCount()===c&&r.toggleExpansionForItemKey(a);break}try{var l=r.getVisibleItem(o+1);if(l&&r.getParentKey(l)===a){null===(t=n.gridRef.current)||void 0===t||t.focusCellByKey(r.getKey(l));break}}catch(e){break}return;case"ArrowLeft":if(r.isKeyExpanded(a)){r.toggleExpansionForItemKey(a);break}if(s){n.gridRef.current.focusCellByKey(s);break}return;case" ":n.props.onItemClicked(i);break;default:return}e.stopPropagation(),e.preventDefault(),n.forceUpdate()}},n.getEnforcedRowStore=function(){return{getItems:function(e,t,r){return n.props.selectedItemId&&n.props.keepParentsOfSelectedItemExpanded&&n.props.rowStore.expandParentsOfItemKey(n.props.selectedItemId),n.props.rowStore.getItems(e,t,r)}}},t.selectedItemId&&t.rowStore.expandParentsOfItemKey(t.selectedItemId),n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){return e.ensureSelectedItemIsVisible()}))},t.prototype.componentDidUpdate=function(e){e.selectedItemId!==this.props.selectedItemId&&this.ensureSelectedItemIsVisible()},t.prototype.ensureSelectedItemIsVisible=function(){var e;if(this.props.selectedItemId){var t=this.props.rowStore.getRowIndex(this.props.selectedItemId);void 0!==t&&(null===(e=this.gridRef.current)||void 0===e||e.pageCellIntoDomThen(t,0,(function(e){return null==e?void 0:e.scrollIntoView({block:"nearest"})})))}},t.prototype.render=function(){var e=this.props,t=e.cellFormatter,n=(e.keepParentsOfSelectedItemExpanded,e.onItemClicked),r=(e.rowStore,e.selectedItemId),o=e.selectRowOnExpansion,s=a(e,["cellFormatter","keepParentsOfSelectedItemExpanded","onItemClicked","rowStore","selectedItemId","selectRowOnExpansion"]);return l.createElement(c.DataGrid,i({},s,{cols:[p(t,o)],config:y,onCellClick:n,onFocusCapture:this.handleInitialFocus,onKeyDown:this.handleKeyDown,ref:this.gridRef,rowStore:this.getEnforcedRowStore(),selectionModel:d(r),showHeaders:!1,showHorizontalGridLines:!1,showRowBanding:!1}))},t}(l.Component);t.TreeViewComponent=f,function(e){e.RowHeight=s.TabStyles.Sizing.RowHeight,e.ColumnName="name-col",e.ExpansionIndicatorTestId=u.ExpansionIndicatorTestId}(f=t.TreeViewComponent||(t.TreeViewComponent={})),t.TreeViewComponent=f;var y={rememberLastScrollPos:!0,rowOuterHeight:f.RowHeight}},965:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionallyDisabledCellComponent=void 0;var a=n(272),s=n(98),c={opacity:a.TabStyles.Opacity.Disabled},l="disabled-cell-wrapper";t.ConditionallyDisabledCellComponent=function(e,t){return s.createFactory(function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return o(r,n),r.prototype.render=function(){var n=this.props.row.data;return t(n)?s.createElement("div",{style:c,"data-tb-test-id":l},s.createElement(e,i({},this.props))):s.createElement("div",{"data-tb-test-id":l},s.createElement(e,i({},this.props)))},r}(s.Component))}},879:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Chevron=t.IndentedCellWithExpansionIndicatorComponent=t.IndentationSpacerElementId=t.ExpansionIndicatorClosedClass=t.ExpansionIndicatorOpenClass=t.ExpansionIndicatorTestId=t.getTreeViewCellTestId=t.treeViewCellTestIdPrefix=void 0;var o=n(272),i=n(98),a=n(799);t.treeViewCellTestIdPrefix="tree-view-cell",t.getTreeViewCellTestId=function(e){return"".concat(t.treeViewCellTestIdPrefix,"-").concat(e)},t.ExpansionIndicatorTestId="treeview-expansion-button",t.ExpansionIndicatorOpenClass="open",t.ExpansionIndicatorClosedClass="closed",t.IndentationSpacerElementId="indentation-spacer";var s={display:"flex",flexDirection:"row",paddingLeft:o.TabStyles.Spacing.SmallSpace,paddingRight:0},c={minWidth:12,paddingRight:o.TabStyles.Spacing.SmallSpace,display:"flex"},l={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1};function u(e){var n=e.isExpanded?t.ExpansionIndicatorOpenClass:t.ExpansionIndicatorClosedClass,r=e.isExpanded?u.OpenStyle:u.ClosedStyle;return i.createElement(o.PointerEventWrapper,{pointerClick:function(t){e.expansionHandler&&(e.expansionHandler(!e.isExpanded),e.selectRowOnExpansion&&!e.isSelected||t.stopPropagation())}},i.createElement("div",{"data-tb-test-id":t.ExpansionIndicatorTestId,style:r,className:n}))}t.IndentedCellWithExpansionIndicatorComponent=function(e,n){return function(o){var a=o.row,d=a.hasChildren,p=9*(a.nestingLevel||0);return i.createElement("div",{"data-tb-test-id":(0,t.getTreeViewCellTestId)(o.row.key),style:s},i.createElement("div",{"data-tb-test-id":t.IndentationSpacerElementId,style:{minWidth:p}}),i.createElement("div",{style:c},d&&i.createElement(u,{expansionHandler:a.expansionHandler,isExpanded:a.isExpanded,isSelected:o.isSelected,selectRowOnExpansion:n})),i.createElement("div",{style:l},i.createElement(e,r({},o))))}},t.Chevron=u,function(e){e.OpenStyle={flex:1,width:"100%",height:"100%",minHeight:23,backgroundImage:"url(".concat(a.Icons.ExpansionIndicator,")"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",cursor:"pointer",verticalAlign:"middle"},e.ClosedStyle=r(r({},e.OpenStyle),{transform:"rotate(270deg)"})}(u=t.Chevron||(t.Chevron={}))},983:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getDestinationProjectCellFormatter=void 0;var o=n(98),i=n(329),a=n(799),s=n(259),c=n(965),l=n(106),u=n(263);t.getDestinationProjectCellFormatter=function(){return(0,c.ConditionallyDisabledCellComponent)((e=function(e){var t,n,r=(n={PROJECT_NAME:(t=e).name},"structurally_invalid"===t.status?s.Messages.invalidContentDestination(n):"insufficient_permissions"===t.status?s.Messages.insufficientPermissionToMoveTo(n):s.Messages.validProject(n));return e.itemType===i.DestinationItemType.personalSpace?{text:s.Messages.PersonalSpaceName(),title:s.Messages.PersonalSpaceName(),itemType:e.itemType,rightTag:s.Messages.PrivateToMeTag()}:e.itemType===i.DestinationItemType.projectsRoot?{text:s.Messages.ProjectsHeader(),title:r,itemType:e.itemType}:{text:e.name,title:r,iconDataUri:a.Icons.ProjectContentTypeSmall,itemType:e.itemType}},function(n){var a=e(n.row.data);return a.itemType===i.DestinationItemType.personalSpace?o.createElement(l.PersonalSpaceCellComponent,r({},a,{testId:t})):o.createElement(u.ProjectCellComponent,r({},a,{testId:t}))}),(function(e){return"valid"!==e.status}));var e,t}},106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalSpaceCellComponent=void 0;var r=n(272),o=n(98),i=n(263),a={paddingLeft:r.TabStyles.Spacing.SmallSpace,fontSize:"10px"};t.PersonalSpaceCellComponent=function(e){return o.createElement("div",{"data-tb-test-id":e.testId||"personal-space-cell",style:i.ContainerStyle},o.createElement("span",{"data-tb-test-id":"data-grid-cell-text",title:e.hideTooltips?void 0:e.title||e.text},e.text),o.createElement("span",{"data-tb-test-id":"data-grid-cell-tag",style:a},e.rightTag))}},263:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectCellComponent=t.ContainerStyle=void 0;var o=n(272),i=n(98),a=n(361);t.ContainerStyle={cursor:"default",overflow:"hidden",textOverflow:"ellipsis",WebkitUserSelect:"none",userSelect:"none"};var s={display:"inline-block",verticalAlign:"top",width:17,height:a.TreeViewComponent.RowHeight-1,marginRight:o.TabStyles.Spacing.DefaultSpace,backgroundRepeat:"no-repeat",backgroundPosition:"left center",backgroundSize:17};t.ProjectCellComponent=function(e){return i.createElement("div",{"data-tb-test-id":e.testId||"project-cell",style:t.ContainerStyle},e.iconDataUri&&i.createElement("span",{"data-tb-test-id":"data-grid-cell-icon",style:(n=e.iconDataUri,r(r({},s),{backgroundImage:"url(".concat(n,")")})),title:e.hideTooltips?void 0:e.iconTitle}),i.createElement("span",{"data-tb-test-id":"data-grid-cell-text",title:e.hideTooltips?void 0:e.title||e.text},e.text));var n}},407:function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(845)),r(n(360)),r(n(390)),r(n(444));var o=n(652);t.RoseTree=o.RoseTree;var i=n(960);t.RoseTreeFilters=i;var a=n(468);t.RoseTreeIterators=a},390:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(845);function o(e,t){return function(n){switch(n.type){case"Left":return e(n.value);case"Right":return t(n.value);default:return r.assertNever(n)}}}function i(e){return o((function(e){return!0}),(function(e){return!1}))(e)}t.left=function(e){return{type:"Left",value:e}},t.right=function(e){return{type:"Right",value:e}},t.either=o,t.fromLeft=function(e){return o((function(e){return e}),(function(t){return e}))},t.fromRight=function(e){return o((function(t){return e}),(function(e){return e}))},t.isLeft=i,t.isRight=function(e){return!i(e)}},444:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(845);function o(e,t){return function(n){switch(n.done){case!1:return e(n.value);case!0:return t;default:return r.assertNever(n)}}}t.iteratorResultNotDone=function(e){return{done:!1,value:e}},t.iteratorResultDone={done:!0},t.iteratorResult=o,t.fromIteratorResultNotDone=function(e){if(!1===e.done)return e.value;throw new Error("IteratorResultDone")},t.fromIteratorResult=function(e){return o((function(e){return e}),e)}},360:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(845);function o(e,t){return function(n){switch(n.type){case"Just":return e(n.value);case"Nothing":return t;default:return r.assertNever(n)}}}function i(e){return o((function(e){return!0}),!1)(e)}t.just=function(e){return{type:"Just",value:e}},t.nothing={type:"Nothing"},t.maybe=o,t.fromJust=function(e){if("Just"===e.type)return e.value;throw new Error("Nothing")},t.fromMaybe=function(e){return o((function(e){return e}),e)},t.isJust=i,t.isNothing=function(e){return!i(e)}},652:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(468),o=function(){function e(e,t){this.node=e,this.children=t}return e.leaf=function(t){return new e(t,[])},Object.defineProperty(e.prototype,"isLeaf",{get:function(){return!this.children||0===this.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.isLeaf?0:1+this.children.reduce((function(e,t){return Math.max(e,t.height)}),0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.fold((function(e){return e+1}),0)},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){var t=e.node,n=e.children;return this.node===t&&this.children.length===n.length&&this.children.every((function(e,t){return e.equals(n[t])}))},e.prototype.map=function(t){return new e(t(this.node),this.children.map((function(e){return e.map(t)})))},e.prototype.mapWithDepth=function(t,n){return void 0===n&&(n=0),new e(t(this.node,n),this.children.map((function(e){return e.mapWithDepth(t,n+1)})))},e.prototype.forEach=function(e,t){void 0===t&&(t=r.preOrderTraversal);for(var n=t(this),o=n.next();!o.done;)e(o.value),o=n.next()},e.prototype.fold=function(e,t){return this.children.reduce((function(t,n){return n.fold(e,t)}),e(t,this.node))},e.prototype.some=function(e){return this.fold((function(t,n){return t||e(n)}),!1)},e.prototype.all=function(e){return this.fold((function(t,n){return t&&e(n)}),!0)},e}();t.RoseTree=o},960:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(845),o=n(652);t.filterSubtreeRoots=function e(t,n){var r=t.children.filter((function(e){return n(e.node)})).map((function(t){return e(t,n)}));return new o.RoseTree(t.node,r)},t.filterSubtrees=function e(t,n){var i=r.removeNulls(t.children.map((function(t){return e(t,n)})));return n(t.node)?new o.RoseTree(t.node,i):null}},468:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(444);t.preOrderTraversal=function(e){var t=[];return t.push(e),{next:function(){var e=t.pop();if(void 0===e)return r.iteratorResultDone;for(var n=e.children.length-1;n>=0;n--)t.push(e.children[n]);return r.iteratorResultNotDone(e.node)}}}},845:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error("Unexpected object: "+e)},t.removeNulls=function(e){var t=[];return e.forEach((function(e){e&&t.push(e)})),t}},98:function(e){e.exports=t},272:function(t){t.exports=e},340:function(e){e.exports=n}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var a={};return function(){var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.DestinationItemType=e.TreeViewComponent=e.NestedItemsTreeHelper=e.NestedItemsFractalRowStore=e.NestedProjectExplorer=e.FractalRowStore=void 0;var t=i(582);Object.defineProperty(e,"FractalRowStore",{enumerable:!0,get:function(){return t.FractalRowStore}});var n=i(564);Object.defineProperty(e,"NestedProjectExplorer",{enumerable:!0,get:function(){return n.NestedProjectExplorer}});var r=i(223);Object.defineProperty(e,"NestedItemsFractalRowStore",{enumerable:!0,get:function(){return r.NestedItemsFractalRowStore}});var o=i(644);e.NestedItemsTreeHelper=o;var s=i(361);Object.defineProperty(e,"TreeViewComponent",{enumerable:!0,get:function(){return s.TreeViewComponent}});var c=i(329);Object.defineProperty(e,"DestinationItemType",{enumerable:!0,get:function(){return c.DestinationItemType}})}(),a}()}));
//# sourceMappingURL=nested-project-explorer.min.js.map